#+TITLE: Installation and usage instructions through Python

* Contents :toc:noexport:
- [[#prerequisites][Prerequisites]]
  - [[#pyjulia][PyJulia]]
- [[#sg-t-sne-π-usage][SG-t-SNE-Π usage]]

* Prerequisites

** PyJulia

The ~Python~ interface calls the ~Julia~ ~SG-t-SNE-Π~ library, through the
~PyJulia~ package. Please follow the [[https://pyjulia.readthedocs.io/en/latest/installation.html][official installation instructions]]
to get ~PyJulia~ working. 
To verify that your installation is completed succesfully try to issue the following command.

#+begin_src python
from julia import Base
Base.sind(90)
#+end_src

More details on the PyJulia package are available in the
[[https://pyjulia.readthedocs.io/en/latest/usage.html][official usage tutorial]].

You need to do either one of the following for ~PyJulia~ to work:
- Issue
  #+begin_src python
  from julia.api import Julia
  jl = Julia(compiled_modules=False)
  #+end_src
- Another workaround is to run your Python script with 
  #+begin_src python
  python-jl
  #+end_src
  which is bundled in PyJulia. 

To install the python wrapper of SG-t-SNE-Π to your python virtual environment or a conda environment follow the instructions below:

To install using Conda:

#+begin_src bash
git clone https://github.com/fcdimitr/sgtsnepi.git
cd sgtsnepi
conda env create -f python/environment.yml
source activate sgtsnepi
python-jl python/test_digits.py
#+end_src

To install to a new python virtual environment:

#+begin_src bash
python3 -m venv /path/to/new/virtual/environment
source /path/to/new/virtual/environment/bin/activate
git clone https://github.com/fcdimitr/sgtsnepi.git
cd sgtsnepi
pip install -r python/requirements.txt
python-jl python/test_digits.py
#+end_src





* SG-t-SNE-Π usage

The ~SG-t-SNE-Π~ Python module is now ready to be used. Simply import the module and call ~SG-t-SNE-Π~ on a sparse, CSC matrix.
We provide a [[https://github.com/fcdimitr/sgtsnepi/blob/julia-python-packages/python/test_digits.py][demo script]] to test installation. For the script to run succesfully, you need to place ~sgtsnepi.py~ somewhere in your Python's search path.
If the installation of ~SG-t-SNE-Π~ is successful, you should see a 3D embedding similar
to the following image.

#+CAPTION: 3D embedding of the graph [[https://sparse.tamu.edu/ML_Graph/optdigits_10NN][~ML_Graph/optdigits_10NN~]]
#+NAME:   fig:digits-embedding
[[./demo.png]]

Documentation on ~sgstnepi~ function usage is available [[https://fcdimitr.github.io/SGtSNEpi.jl/stable/API/#SGtSNEpi.sgtsnepi-Tuple{LightGraphs.AbstractGraph}][here]].
